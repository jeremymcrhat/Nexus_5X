/* Copyright (c) 2013-2015, The Linux Foundation. All rights reserved.
 *
 * This program is free software; you can redistribute it and/or modify
 * it under the terms of the GNU General Public License version 2 and
 * only version 2 as published by the Free Software Foundation.
 *
 * This program is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 * GNU General Public License for more details.
 */

/memreserve/ 0x00000000 0x00001000;

#include "skeleton64.dtsi"
#include <dt-bindings/interrupt-controller/arm-gic.h>
#include <dt-bindings/clock/qcom,gcc-msm8994.h>
#include <dt-bindings/clock/msm-clocks-8994.h>

/ {
	model = "Qualcomm Technologies, Inc. MSM 8992";
	compatible = "qcom,msm8992";
	qcom,msm-id = <251 0>, <252 0>;
	qcom,pmic-id = <0x10009 0x1000A 0x0 0x0>;
	interrupt-parent = <&intc>;


	aliases {
		serial0 = &blsp1_uart2;
	};

	chosen {
	};

	cpus {
		#address-cells = <1>;
		#size-cells = <0>;
		cpu-map {
			cluster0 {
				core0 {
					cpu = <&CPU0>;
				};
				core1 {
					cpu = <&CPU1>;
				};
				core2 {
					cpu = <&CPU2>;
				};
				core3 {
					cpu = <&CPU3>;
				};
			};

			cluster1 {
				core0 {
					cpu = <&CPU4>;
				};
				core1 {
					cpu = <&CPU5>;
				};
			};
		};

		CPU0: cpu@0 {
			device_type = "cpu";
			compatible = "arm,cortex-a53", "arm,armv8";
			reg = <0x0>;
			enable-method = "qcom,8994-arm-cortex-acc";
			qcom,acc = <&acc0>;
			qcom,ldo = <&ldo0>;
			/* next-level-cache = <&L2_0>; */
			// The currents(uA) correspond to the frequencies in the
			// frequency table.
			current = < 18250 //384000 kHZ
			            24330 //460800 kHZ
			            26920 //600000 kHZ
			            34600 //672000 kHz
			            38150 //787200 kHZ
			            46880 //864000 kHZ
			            55940 //960000 kHZ
			            81740 //1248000 kHZ
			            105870>; //1440000 kHZ
			/** TODO: 
			L2_0: l2-cache {
			      compatible = "arm,arch-cache";
			      cache-level = <2>;
			      power-domain = <&l2ccc_0>;
			      qcom,dump-size = <0x0>;
			};
			L1_I_0: l1-icache {
				compatible = "arm,arch-cache";
				qcom,dump-size = <0x9040>;
			};
			L1_D_0: l1-dcache {
				compatible = "arm,arch-cache";
				qcom,dump-size = <0x9040>;
			}; **/
		};

		CPU1: cpu@1 {
			device_type = "cpu";
			compatible = "arm,cortex-a53", "arm,armv8";
			reg = <0x1>;
			enable-method = "qcom,8994-arm-cortex-acc";
			qcom,acc = <&acc1>;
			qcom,ldo = <&ldo1>;
			/* next-level-cache = <&L2_0>; */
			// The currents(uA) correspond to the frequencies in the
			// frequency table.
			current = < 7665 //384000 kHZ
			            10219 //460800 kHZ
			            11306 //600000 kHZ
			            14532 //672000 kHz
			            16023 //787200 kHZ
			            19690 //864000 kHZ
			            23495 //960000 kHZ
			            34331 //1248000 kHZ
			            44465>; //1440000 kHZ
			L1_I_1: l1-icache {
				compatible = "arm,arch-cache";
				qcom,dump-size = <0x9040>;
			};
			L1_D_1: l1-dcache {
				compatible = "arm,arch-cache";
				qcom,dump-size = <0x9040>;
			};
		};

		CPU2: cpu@2 {
			device_type = "cpu";
			compatible = "arm,cortex-a53";
			reg = <0x2>;
			enable-method = "qcom,8994-arm-cortex-acc";
			qcom,acc = <&acc2>;
			qcom,ldo = <&ldo2>;
			/* next-level-cache = <&L2_0>; */
			// The currents(uA) correspond to the frequencies in the
			// frequency table.
			current = < 7848 //384000 kHZ
			            10462 //460800 kHZ
			            11576 //600000 kHZ
			            14878 //672000 kHz
			            16405 //787200 kHZ
			            20158 //864000 kHZ
			            24054 //960000 kHZ
			            35148 //1248000 kHZ
			            45524>; //1440000 kHZ
			L1_I_2: l1-icache {
				compatible = "arm,arch-cache";
				qcom,dump-size = <0x9040>;
			};
			L1_D_2: l1-dcache {
				compatible = "arm,arch-cache";
				qcom,dump-size = <0x9040>;
			};
		};

		CPU3: cpu@3 {
			device_type = "cpu";
			compatible = "arm,cortex-a53";
			reg = <0x3>;
			enable-method = "qcom,8994-arm-cortex-acc";
			qcom,acc = <&acc3>;
			qcom,ldo = <&ldo3>;
			/* next-level-cache = <&L2_0>; */
			// The currents(uA) correspond to the frequencies in the
			// frequency table.
			current = < 8760 //384000 kHZ
			            11678 //460800 kHZ
			            12922 //600000 kHZ
			            16608 //672000 kHz
			            18312 //787200 kHZ
			            22502 //864000 kHZ
			            26851 //960000 kHZ
			            39235 //1248000 kHZ
			            50818>; //1440000 kHZ
			L1_I_3: l1-icache {
				compatible = "arm,arch-cache";
				qcom,dump-size = <0x9040>;
			};
			L1_D_3: l1-dcache {
				compatible = "arm,arch-cache";
				qcom,dump-size = <0x9040>;
			};
		};

		CPU4: cpu@4 {
			device_type = "cpu";
			compatible = "arm,cortex-a57";
			reg = <0x100>;
			enable-method = "qcom,8994-arm-cortex-acc";
			qcom,acc = <&acc4>;
			qcom,ldo = <&ldo4>;
			/* next-level-cache = <&L2_1>; */
			// The currents(uA) correspond to the frequencies in the
			// frequency table.
			current = < 67740 //384000 kHZ
			            82960 //480000 kHZ
			            105870 //633600 kHZ
			            133160 //768000 kHZ
			            150160 //864000 kHZ
			            167180 //960000 kHZ
			            230040 //1248000 kHZ
			            261430 //1344000 kHZ
			            290460 //1440000 kHZ
			            317200 //1536000 kHZ
			            352870 //1632000 kHZ
			            374360 //1689600 kHZ
			            443880>; //1824000 kHZ
			/** TODO:
			L2_1: l2-cache {
			      compatible = "arm,arch-cache";
			      cache-level = <2>;
			      power-domain = <&l2ccc_1>;
			      qcom,dump-size = <0x140040>;
			};
			L1_I_100: l1-icache {
				compatible = "arm,arch-cache";
				qcom,dump-size = <0xd840>;
			};
			L1_D_100: l1-dcache {
				compatible = "arm,arch-cache";
				qcom,dump-size = <0x9040>;
			}; **/
		};

		CPU5: cpu@5 {
			device_type = "cpu";
			compatible = "arm,cortex-a57";
			reg = <0x101>;
			enable-method = "qcom,8994-arm-cortex-acc";
			qcom,acc = <&acc5>;
			qcom,ldo = <&ldo5>;
			/* next-level-cache = <&L2_1>; */
			// The currents(uA) correspond to the frequencies in the
			// frequency table.
			current = < 49450 //384000 kHZ
			            60561 //480000 kHZ
			            77285 //633600 kHZ
			            97207 //768000 kHZ
			            109617 //864000 kHZ
			            122041 //960000 kHZ
			            167929 //1248000 kHZ
			            190844 //1344000 kHZ
			            212036 //1440000 kHZ
			            231556 //1536000 kHZ
			            257595 //1632000 kHZ
			            273283 //1689600 kHZ
			            324032>; //1824000 kHZ
			L1_I_101: l1-icache {
				compatible = "arm,arch-cache";
				qcom,dump-size = <0xd840>;
			};
			L1_D_101: l1-dcache {
				compatible = "arm,arch-cache";
				qcom,dump-size = <0x9040>;
			};
		};
	};

	soc: soc { };

	memory {
		#address-cells = <2>;
		#size-cells = <2>;

		secure_mem: secure_region@0 {
			linux,reserve-contiguous-region;
			reg = <0 0 0 0x12c00000>;
			label = "secure_mem";
		};

		qsecom_mem: qsecom_region@0 {
			linux,reserve-contiguous-region;
			reg = <0 0 0 0x1800000>;
			label = "qseecom_mem";
		};

		audio_mem: audio_region@0 {
                        linux,reserve-contiguous-region;
			linux,reserve-region;
			reg = <0 0 0 0x400000>;
			label = "audio_mem";
		};

		removed_regions: removed_regions@0 {
			linux,reserve-contiguous-region;
			linux,reserve-region;
			linux,remove-completely;
			reg = <0 0x06400000 0 0xe00000>;
			label = "memory_hole";
		};

		dfps_data_mem: dfps_data_mem@0 {
			linux,reserve-contiguous-region;
			linux,reserve-region;
			reg = <0 0x03400000 0 0x1000>;
			label = "dfps_data_mem";
		};

		cont_splash_mem: cont_splash_mem@0 {
			linux,reserve-contiguous-region;
			linux,reserve-region;
			reg = <0 0x03401000 0 0x2200000>;
			label = "cont_splash_mem";
		};

		peripheral_mem: peripheral_region@0 {
			linux,reserve-contiguous-region;
			linux,reserve-region;
			linux,remove-completely;
			reg = <0 0x07400000 0 0x1c00000>;
			label = "peripheral_mem";
		};

		modem_mem: modem_region@0 {
			linux,reserve-contiguous-region;
			linux,reserve-region;
			linux,remove-completely;
			reg = <0 0x09000000 0 0x5a00000>;
			label = "modem_mem";
		};
	};
};

#include "msm-gdsc.dtsi"

&soc {
	#address-cells = <1>;
	#size-cells = <1>;
	ranges = <0 0 0 0xffffffff>;
	compatible = "simple-bus";

	intc: interrupt-controller@f9000000 {
		compatible = "qcom,msm-qgic2";
		interrupt-controller;
		#interrupt-cells = <3>;
		reg = <0xf9000000 0x1000>,
		      <0xf9002000 0x1000>;
	};

	timer {
		compatible = "arm,armv8-timer";
		interrupts = <1 2 0xf08>,
			     <1 3 0xf08>,
			     <1 4 0xf08>,
			     <1 1 0xf08>;
		clock-frequency = <19200000>;
	};

	timer@f9020000 {
		#address-cells = <1>;
		#size-cells = <1>;
		ranges;
		compatible = "arm,armv7-timer-mem";
		reg = <0xf9020000 0x1000>;
		clock-frequency = <19200000>;

		frame@f9021000 {
			frame-number = <0>;
			interrupts = <0 9 0x4>,
				     <0 8 0x4>;
			reg = <0xf9021000 0x1000>,
			      <0xf9022000 0x1000>;
		};

		frame@f9023000 {
			frame-number = <1>;
			interrupts = <0 10 0x4>;
			reg = <0xf9023000 0x1000>;
			status = "disabled";
		};

		frame@f9024000 {
			frame-number = <2>;
			interrupts = <0 11 0x4>;
			reg = <0xf9024000 0x1000>;
			status = "disabled";
		};

		frame@f9025000 {
			frame-number = <3>;
			interrupts = <0 12 0x4>;
			reg = <0xf9025000 0x1000>;
			status = "disabled";
		};

		frame@f9026000 {
			frame-number = <4>;
			interrupts = <0 13 0x4>;
			reg = <0xf9026000 0x1000>;
			status = "disabled";
		};

		frame@f9027000 {
			frame-number = <5>;
			interrupts = <0 14 0x4>;
			reg = <0xf9027000 0x1000>;
			status = "disabled";
		};

		frame@f9028000 {
			frame-number = <6>;
			interrupts = <0 15 0x4>;
			reg = <0xf9028000 0x1000>;
			status = "disabled";
		};
	};

	acc0:clock-controller@f9070000 {
		compatible = "qcom,arm-cortex-acc";
		reg = <0xf9070000 0x1000>,
		      <0xf908b000 0x1000>,
		      <0xf900b000 0x1000>;
	};

	acc1:clock-controller@f9071000 {
		compatible = "qcom,arm-cortex-acc";
		reg = <0xf9071000 0x1000>,
		      <0xf909b000 0x1000>,
		      <0xf900b000 0x1000>;
	};

	acc2:clock-controller@f9072000 {
		compatible = "qcom,arm-cortex-acc";
		reg = <0xf9072000 0x1000>,
		      <0xf90ab000 0x1000>,
		      <0xf900b000 0x1000>;
	};

	acc3:clock-controller@f9073000 {
		compatible = "qcom,arm-cortex-acc";
		reg = <0xf9073000 0x1000>,
		      <0xf90bb000 0x1000>,
		      <0xf900b000 0x1000>;
	};

	acc4:clock-controller@f9074000 {
		compatible = "qcom,arm-cortex-acc";
		reg = <0xf9074000 0x1000>,
		      <0xf90cb000 0x1000>,
		      <0xf900b000 0x1000>;
	};

	acc5:clock-controller@f9075000 {
		compatible = "qcom,arm-cortex-acc";
		reg = <0xf9075000 0x1000>,
		      <0xf90db000 0x1000>,
		      <0xf900b000 0x1000>;
	};

	ldo0:ldo-vref@f9070000 {
		compatible = "qcom,8994-cpu-ldo-vref";
		reg = <0xf9070000 0x30>;
		qcom,ldo-vref-ret = <0x2a>;
	};

	ldo1:ldo-vref@f9071000 {
		compatible = "qcom,8994-cpu-ldo-vref";
		reg = <0xf9071000 0x30>;
		qcom,ldo-vref-ret = <0x2a>;
	};

	ldo2:ldo-vref@f9072000 {
		compatible = "qcom,8994-cpu-ldo-vref";
		reg = <0xf9072000 0x30>;
		qcom,ldo-vref-ret = <0x2a>;
	};

	ldo3:ldo-vref@f9073000 {
		compatible = "qcom,8994-cpu-ldo-vref";
		reg = <0xf9073000 0x30>;
		qcom,ldo-vref-ret = <0x2a>;
	};

	ldo4:ldo-vref@f9074000 {
		compatible = "qcom,8994-cpu-ldo-vref";
		reg = <0xf9074000 0x30>;
		qcom,ldo-vref-ret = <0x3e>;
	};

	ldo5:ldo-vref@f9075000 {
		compatible = "qcom,8994-cpu-ldo-vref";
		reg = <0xf9075000 0x30>;
		qcom,ldo-vref-ret = <0x3e>;
	};

	arm64-cpu-erp@f9100000 {
		compatible = "arm,arm64-cpu-erp";
		reg = <0xf9100000 0x1000>;
		reg-names = "cci";
		interrupts = <0 328 0>,
			     <0 329 0>,
			     <0 330 0>,
			     <0 331 0>,
			     <0 22 0>,
			     <1 7 0>;
		interrupt-names = "pri-dbe-irq",
				  "sec-dbe-irq",
				  "pri-ext-irq",
				  "sec-ext-irq",
				  "cci-irq",
				  "sbe-irq";
		poll-delay-ms = <5000>;
	};

	restart@fc4ab000 {
		compatible = "qcom,pshold";
		reg = <0xfc4ab000 0x4>;
	};

	msmgpio: pinctrl@fd510000 {
                compatible = "qcom,msm8994-pinctrl", "qcom,msm8974-pinctrl";
                reg = <0xfd510000 0x4000>;
                interrupts = <GIC_SPI 208 IRQ_TYPE_LEVEL_HIGH>;
                gpio-controller;
                #gpio-cells = <2>;
                interrupt-controller;
                #interrupt-cells = <2>;
        };

	blsp1_uart2: serial@f991e000 {
		compatible = "qcom,msm-uartdm-v1.4", "qcom,msm-uartdm";
		reg = <0xf991e000 0x1000>;
		interrupts = <0 108 0>;
		status = "disabled";
		clock-names = "core", "iface";
		clocks = <&clock_gcc GCC_BLSP1_UART2_APPS_CLK>,
			<&clock_gcc GCC_BLSP1_AHB_CLK>;
	};

	blsp1_uart5: serial@f9922000 {
		compatible = "qcom,msm-uartdm-v1.4", "qcom,msm-uartdm";
		reg = <0xf9922000 0x1000>;
		interrupts = <0 112 0>;
		status = "disabled";
		clock-names = "core", "iface";
		clocks = <&clock_gcc clk_gcc_blsp1_uart5_apps_clk>,
			 <&clock_gcc clk_gcc_blsp1_ahb_clk>;
	};

	blsp2_uart2: uart@f995e000 { /* BLSP2 UART2 */
		compatible = "qcom,msm-hsuart-v14";
		reg = <0xf995e000 0x1000>,
			<0xf9944000 0x19000>;
		reg-names = "core_mem", "bam_mem";
		interrupt-names = "core_irq", "bam_irq", "wakeup_irq";
		#address-cells = <0>;
		interrupt-parent = <&blsp2_uart2>;
		interrupts = <0 1 2>;
		#interrupt-cells = <1>;
		interrupt-map-mask = <0xffffffff>;
		interrupt-map = <0 &intc 0 114 0
				1 &intc 0 239 0
				2 &msm_gpio 46 0>;

		qcom,inject-rx-on-wakeup;
		qcom,rx-char-to-inject = <0xFD>;

		qcom,bam-tx-ep-pipe-index = <2>;
		qcom,bam-rx-ep-pipe-index = <3>;
		qcom,master-id = <84>;
		clock-names = "core", "iface";
		clocks = <&clock_gcc clk_gcc_blsp2_uart2_apps_clk>,
			<&clock_gcc clk_gcc_blsp2_ahb_clk>;
		pinctrl-names = "sleep", "default";
		pinctrl-0 = <&hsuart_sleep>;
		pinctrl-1 = <&hsuart_active>;

		qcom,msm-bus,name = "buart8";
		qcom,msm-bus,num-cases = <2>;
		qcom,msm-bus,num-paths = <1>;
		qcom,msm-bus,vectors-KBps =
				<84 512 0 0>,
				<84 512 500 800>;
		status = "disabled";
	};

	clock_gcc: qcom,gcc@fc400000 {
		compatible = "qcom,gcc-8994";
		#clock-cells = <1>;
		#reset-cells = <1>;
		#power-domain-cells = <1>;
		reg = <0xfc400000 0x2000>;
		clock-names = "xo", "xo_a_clk";
	};

	clock_rpm: qcom,rpmcc@fc401880 {
		compatible = "qcom,rpmcc-8992", "qcom,rpmcc";
		reg = <0xfc401880 0x4>;
		reg-names = "cc_base";
		#clock-cells = <1>;
	};

	cpubw: qcom,cpubw {
		compatible = "qcom,devbw";
		governor = "cpufreq";
		qcom,src-dst-ports = <1 512>;
		qcom,active-only;
		qcom,bw-tbl =
			<  1525 /* 200 MHz */ >,
			<  2288 /* 300 MHz */ >,
			<  3509 /* 460 MHz */ >,
			<  4173 /* 547 MHz */ >,
			<  5271 /* 691 MHz */ >,
			<  5928 /* 777 MHz */ >,
			<  7102 /* 931 MHz */ >;
	};

	qcom,cpu-bwmon {
		compatible = "qcom,bimc-bwmon2";
		reg = <0xfc388000 0x300>, <0xfc381000 0x200>;
		reg-names = "base", "global_base";
		interrupts = <0 183 4>;
		qcom,mport = <0>;
		qcom,target-dev = <&cpubw>;
	};

	mincpubw: qcom,mincpubw {
		compatible = "qcom,devbw";
		governor = "powersave";
		qcom,src-dst-ports = <1 512>;
		qcom,active-only;
		qcom,bw-tbl =
			<  1525 /* 200 MHz */ >,
			<  2288 /* 300 MHz */ >,
			<  3509 /* 460 MHz */ >,
			<  4173 /* 547 MHz */ >,
			<  5271 /* 691 MHz */ >,
			<  5928 /* 777 MHz */ >,
			<  7102 /* 931 MHz */ >;
	};

	devfreq_cpufreq: devfreq-cpufreq {
		cpubw-cpufreq {
			target-dev = <&cpubw>;
			cpu-to-dev-map-0 =
				<  600000  1525 >,
				<  672000  2288 >,
				<  787200  3509 >,
				<  864000  4173 >,
				<  960000  5271 >,
				< 1440000  7102 >;
			cpu-to-dev-map-4 =
				<  384000  1525 >,
				<  633600  2288 >,
				<  768000  3509 >,
				<  864000  4173 >,
				<  960000  5271 >,
				< 1344000  5928 >,
				< 1824000  7102 >;
		};

	};

	msm_cpufreq: qcom,msm-cpufreq {
		compatible = "qcom,msm-cpufreq";
		clock-names = "l2_clk", "cpu0_clk", "cpu1_clk", "cpu2_clk",
				"cpu3_clk", "cpu4_clk", "cpu5_clk";
		clocks = <&clock_cpu clk_cci_clk>,
			 <&clock_cpu clk_a53_clk>,
			 <&clock_cpu clk_a53_clk>,
			 <&clock_cpu clk_a53_clk>,
			 <&clock_cpu clk_a53_clk>,
			 <&clock_cpu clk_a57_clk>,
			 <&clock_cpu clk_a57_clk>;

		qcom,governor-per-policy;

		qcom,cpufreq-table-0 =
			<  384000 >,
			<  460800 >,
			<  600000 >,
			<  672000 >,
			<  787200 >,
			<  864000 >,
			<  960000 >,
			< 1248000 >,
			< 1440000 >;

		qcom,cpufreq-table-4 =
			<  384000 >,
			<  480000 >,
			<  633600 >,
			<  768000 >,
			<  864000 >,
			<  960000 >,
			< 1248000 >,
			< 1344000 >,
			< 1440000 >,
			< 1536000 >,
			< 1632000 >,
			< 1689600 >,
			< 1824000 >;

	};

	clock_cpu: qcom,cpu-clock-8992@f9015000 {
		compatible = "qcom,cpu-clock-8992";
		reg = <0xf9015000 0x1000>,
		      <0xf9016000 0x1000>,
		      <0xf9011000 0x1000>,
		      <0xf900d000 0x1000>,
		      <0xf900f000 0x1000>,
		      <0xf9112000 0x1000>,
		      <0xfc4b80b0 0x10>;
		reg-names = "c0_pll", "c1_pll", "cci_pll", "c0_mux", "c1_mux", "cci_mux", "efuse";
		/*vdd-a53-supply = <&apc0_vreg_corner>;
		vdd-a57-supply = <&apc1_vreg_corner>;
		vdd-cci-supply = <&apc0_vreg_corner>;
		vdd-dig-supply = <&pm8994_s2_corner_ao>;*/
		qcom,a53-speedbin0-v0 =
				<	   0 0>,
				<  384000000 2>,
				<  460800000 3>,
				<  600000000 4>,
				<  672000000 5>,
				<  787200000 6>,
				<  864000000 7>,
				<  960000000 8>,
				< 1248000000 9>;
		qcom,a53-speedbin1-v0 =
				<	   0 0>,
				<  384000000 2>,
				<  460800000 3>,
				<  600000000 4>,
				<  672000000 5>,
				<  787200000 6>,
				<  864000000 7>,
				<  960000000 8>,
				< 1248000000 9>,
				< 1440000000 10>;
		qcom,a57-speedbin0-v0 =
				<	   0 0>,
				<  384000000 5>,
				<  480000000 5>,
				<  633600000 5>,
				<  768000000 6>,
				<  864000000 7>,
				<  960000000 8>,
				< 1248000000 9>,
				< 1344000000 10>,
				< 1440000000 11>,
				< 1536000000 12>,
				< 1632000000 13>,
				< 1689600000 14>,
				< 1824000000 15>;
		qcom,cci-speedbin0-v0 =
				<	   0 0>,
				<  134400000 2>,
				<  300000000 4>,
				<  384000000 6>,
				<  556800000 6>,
				<  600000000 8>,
				<  729600000 8>,
				<  787200000 9>;
		clock-names = "xo_ao", "aux_clk";
		clocks = <&clock_rpm clk_cxo_clk_src_ao>,
			 <&clock_gcc clk_gpll0_ao>;
		#clock-cells = <1>;
	};

	dummy_vreg: dummy_vreg {
		compatible = "regulator-fixed";
		status = "ok";
		regulator-name = "dummy_vreg";
		regulator-always-on;
	};

	spmi_bus: qcom,spmi@fc4c0000 {
		compatible = "qcom,spmi-pmic-arb";
		reg-names = "core", "intr", "cnfg";
		reg = <0xfc4cf000 0x1000>,
		      <0xfc4cb000 0x1000>,
		      <0xfc4ca000 0x1000>;
		interrupts = <0 190 0>; /* ee0_krait_hlos_spmi_periph_irq */
		qcom,pmic-arb-channel = <0>;
		qcom,pmic-arb-ee = <0>;
		#interrupt-cells = <3>;
		interrupt-controller;
		#address-cells = <1>;
		#size-cells = <0>;
		cell-index = <0>;
	};

	cpu-pmu {
		compatible = "arm,armv8-pmuv3";
		interrupts = <1 7 0x3f00>;
	};

	pcie0: qcom,pcie@fc520000 {
		compatible = "qcom,pci-msm";
		cell-index = <0>;

		reg = <0xfc520000 0x2000>,
		      <0xfc526000 0x1000>,
		      <0xff000000 0xf1d>,
		      <0xff000f20 0xa8>,
		      <0xff100000 0x100000>,
		      <0xff200000 0x100000>,
		      <0xff300000 0xd00000>;

		reg-names = "parf", "phy", "dm_core", "elbi",
				"conf", "io", "bars";

		#address-cells = <0>;
		interrupt-parent = <&pcie0>;
		interrupts = <0 1 2 3 4 5 6 7 8 9 10 11>;
		#interrupt-cells = <1>;
		interrupt-map-mask = <0xffffffff>;
		interrupt-map = <0 &intc 0 243 0
				1 &intc 0 244 0
				2 &intc 0 245 0
				3 &intc 0 247 0
				4 &intc 0 248 0
				5 &intc 0 249 0
				6 &intc 0 250 0
				7 &intc 0 251 0
				8 &intc 0 252 0
				9 &intc 0 253 0
				10 &intc 0 254 0
				11 &intc 0 255 0>;

		interrupt-names = "int_msi", "int_a", "int_b", "int_c", "int_d",
				"int_pls_pme", "int_pme_legacy", "int_pls_err",
				"int_aer_legacy", "int_pls_link_up",
				"int_pls_link_down", "int_bridge_flush_n";

		pinctrl-names = "default", "sleep";
		pinctrl-0 = <&pcie0_clkreq_default &pcie0_perst_default &pcie0_wake_default>;
		pinctrl-1 = <&pcie0_clkreq_default &pcie0_perst_default &pcie0_wake_sleep>;

		perst-gpio = <&msm_gpio 35 0>;
		wake-gpio = <&msm_gpio 37 0>;

		gdsc-vdd-supply = <&gdsc_pcie_0>;

		qcom,l1-supported;
		qcom,l1ss-supported;
		qcom,aux-clk-sync;

		qcom,ep-latency = <10>;
		qcom,vbg-opt;

		qcom,ep-wakeirq;

		qcom,msi-gicm-addr = <0xf9006040>;
		qcom,msi-gicm-base = <0x180>;

		qcom,msm-bus,name = "pcie0";
		qcom,msm-bus,num-cases = <2>;
		qcom,msm-bus,num-paths = <1>;
		qcom,msm-bus,vectors-KBps =
				<45 512 0 0>,
				<45 512 500 800>;

		qcom,scm-dev-id = <11>;

		clocks = <&clock_gcc clk_gcc_pcie_0_pipe_clk>,
			<&clock_rpm clk_ln_bb_clk>,
			<&clock_gcc clk_gcc_pcie_0_aux_clk>,
			<&clock_gcc clk_gcc_pcie_0_cfg_ahb_clk>,
			<&clock_gcc clk_gcc_pcie_0_mstr_axi_clk>,
			<&clock_gcc clk_gcc_pcie_0_slv_axi_clk>,
			<&clock_gcc clk_pcie_0_phy_ldo>,
			<&clock_gcc clk_gcc_pcie_phy_0_reset>;

		clock-names =  "pcie_0_pipe_clk", "pcie_0_ref_clk_src", "pcie_0_aux_clk",
			"pcie_0_cfg_ahb_clk", "pcie_0_mstr_axi_clk",
			"pcie_0_slv_axi_clk", "pcie_0_ldo", "pcie_0_phy_reset";

		max-clock-frequency-hz = <125000000>, <0>, <1011000>, <0>, <0>, <0>, <0>, <0>;
	};

	wcd9xxx_intc: wcd9xxx-irq {
		compatible = "qcom,wcd9xxx-irq";
		interrupt-controller;
		#interrupt-cells = <1>;
		interrupt-parent = <&msm_gpio>;
		interrupts = <72 0>;
		interrupt-names = "cdc-int";
		pinctrl-names = "default";
		pinctrl-0 = <&wcd_intr_default>;
	};

	clocks {
                xo_board: xo_board {
                        compatible = "fixed-clock";
                        #clock-cells = <0>;
                        clock-frequency = <19200000>;
                };

                sleep_clk: sleep_clk {
                        compatible = "fixed-clock";
                        #clock-cells = <0>;
                        clock-frequency = <32768>;
                };
        };

	android_usb {
		compatible = "qcom,android-usb";
		reg = <0xfe80f0c8 0xc8>;
		qcom,pm-qos-latency = <61 637 1261>;
	};
};

&gdsc_pcie_0 {
	status = "ok";
};

/ {
        aliases {
                serial0 = &blsp1_uart2;
        };

        chosen {
                stdout-path = "serial0";
        };

        soc {
                serial@f991e000 {
                        status = "okay";
                        pinctrl-names = "default", "sleep";
                        pinctrl-0 = <&blsp1_uart2_default>;
                        pinctrl-1 = <&blsp1_uart2_sleep>;
                };
        };
};

#include "msm8992-pins.dtsi"
